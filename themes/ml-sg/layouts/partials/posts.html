<div class="col-lg-12 col-md-12 col-12 float-md-left pl-md-2">
    {{ partial "research-navbar.html" .}}

    <div class="position-relative">
        <div id="researchers-list">
            <ul>
                {{ range (.Paginate (.Data.Pages.ByParam "estimated_citations").Reverse).Pages }}
                <li class="col-12 d-flex width-full py-4 border-bottom">
                    <div class="col-12 col-lg-12 d-inline-block">
                        <div class="d-inline-block mb-1">
                            <h3>
                                <a href="{{ .Permalink }}">{{ .Title }}</a>
                                <span class="f5" itemprop="institution">
                                    {{ .Params.current_institute_name }}
                                </span>
                            </h3>
                        </div>

                        {{ if .Params.bio }}
                        <div class="d-inline-block mt-1 mb-1">
                            <span class="mr-3">
                                    <span itemprop="description">{{ .Params.bio | truncate 255 }}</span>
                                </span>
                        </div>
                        {{ end }}

                        <div class="f6 text-gray mt-2">
                            {{ range (first 5 .Params.interests) }}
                            <a class="topic-tag topic-tag-link" href="https://academic.microsoft.com/search?q={{ . | safeURL }}"
                               target="_blank">
                                {{ . }}
                            </a>
                            {{ end }}
                            {{ $interests_length :=  sub (len .Params.interests) 5 }}
                            {{ if gt $interests_length 0 }}
                                +{{ $interests_length }} more
                            {{ end }}
                        </div>

                        <div class="f6 text-gray mt-2">
                            <span class="d-inline-block text-gray mr-3">
                                <span class="ml-0">
                                    <img class="octicon" src="/images/publications.svg" width="16" height="16" />
                                    <span class="text-bold text-gray-dark" itemprop="publications">
                                        {{ lang.NumFmt 0 .Params.all_publication_count }}
                                    </span>
                                    publications ·
                                    <span class="text-bold text-gray-dark" itemprop="publications">
                                        {{ lang.NumFmt 0 .Params.publication_count }}
                                    </span>
                                    in sg+ml
                                </span>
                            </span>
                            <span class="d-inline-block mr-3">
                                <span class="ml-0">
                                    <img class="octicon" src="/images/citations.svg" width="16" height="16" />
                                    <span class="text-bold text-gray-dark" itemprop="publications">
                                        {{ lang.NumFmt 0 .Params.all_estimated_citations }}
                                    </span>
                                    citations ·
                                    <span class="text-bold text-gray-dark" itemprop="citations">
                                        {{ lang.NumFmt 0 .Params.estimated_citations }}
                                    </span>
                                    in sg+ml
                                </span>
                            </span>
                        </div>
                    </div>
                </li>
                {{ end }}
            </ul>
            {{ if gt .Paginator.TotalPages 1}}
            <div class="paginate-container">
                <div class="BtnGroup" data-test-selector="pagination">
                    {{ if .Paginator.HasPrev }}
                    <a rel="nofollow" class="btn btn-outline BtnGroup-item"
                        href="{{ .Paginator.Prev.URL }}">Previous</a>
                    {{ else }}
                    <button class="btn btn-outline BtnGroup-item" disabled="disabled">Previous</button>
                    {{ end }}
                    {{ if .Paginator.HasNext }}
                    <a rel="nofollow" class="btn btn-outline BtnGroup-item" href="{{ .Paginator.Next.URL }}">Next</a>
                    {{ else }}
                    <button class="btn btn-outline BtnGroup-item" disabled="disabled">Next</button>
                    {{ end }}
                </div>
            </div>
            {{ end }}
        </div>
    </div>
</div>
